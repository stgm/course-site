<div class="card">
	<div class="card-body">
		<h5 class="card-title"><%= t('overview') %></h5>
		<table class="table table-sm table-responsive">
			<%# Table header  %>
			<tr>
				<%# Assignment %>
				<th><%= t('assignment') %></th>
				<%# Subgrades  %>
				<% @subgrades.each do |subgrade| %>
					<th><%= subgrade.capitalize %></th>
				<% end %>
				<%# Final grade %>
				<th>Grade</th>
			</tr>
			<% @overview.each_pair do |category, content| %>
				<%# Create category heading. %>
				<tr>
					<th colspan=<%= @subgrades.length + 2 %>><center><%= category.capitalize %></center></th>
				</tr>

				<% content['submits'].each_pair do |submit, weight| %>
					<%# Each submit within category %>
					<tr>
						<%# Submit name %>
						<td><%= submit %></td>
						<% @subgrades.each do |subgrade| %>
							<%# Print each subgrade if it exists for this grade, subgrades are not hidden, and the grade isn't unpublished. %>
							<%# Else, print a dash. %>
							<% if @grades_by_pset.key?(submit) && !Settings.grading['grades'][submit]['hide_subgrades'] && @grades_by_pset[submit].subgrades[subgrade] %>
								<td><%= translate_subgrade(@grades_by_pset[submit].subgrades[subgrade]) %></td>
							<% else %>
								<td>-</td>
							<% end %>
						<% end %>
						<%# Print calculated grade for this submit if it is not unpublished or hidden. %>
						<%# Else, print a dash. %>
						<% if @grades_by_pset.key?(submit) && !Settings.grading['grades'][submit]['hide_calculated'] %>
							<td><%= translate_grade(@grades_by_pset[submit].any_final_grade) %></td>
						<% else %>
							<td>-</td>
						<% end %>
					</tr>
				<% end %>

			<% end %>
		</table>
	</div>
</div>